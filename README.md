# Million and UP

[![Codacy Badge](https://app.codacy.com/project/badge/Grade/46f4a14044a64c64b7ee62dc2aab39e9)](https://www.codacy.com?utm_source=bitbucket.org&amp;utm_medium=referral&amp;utm_content=symplifica/syapp&amp;utm_campaign=Badge_Grade)

[![Maintainability](https://api.codeclimate.com/v1/badges/d90e0f308dca4ed4cb90/maintainability)](https://codeclimate.com/github/rails/rails/maintainability)

[![Test Coverage](https://api.codeclimate.com/v1/badges/d90e0f308dca4ed4cb90/test_coverage)](https://codeclimate.com/github/rails/rails/test_coverage)


# Badges

## License
[![MIT License](https://img.shields.io/apm/l/atomic-design-ui.svg?)](https://github.com/tterb/atomic-design-ui/blob/master/LICENSEs)
[![GPLv3 License](https://img.shields.io/badge/License-GPL%20v3-yellow.svg)](https://opensource.org/licenses/)
[![AGPL License](https://img.shields.io/badge/license-AGPL-blue.svg)](http://www.gnu.org/licenses/agpl-3.0)

## Version
[![Version](https://badge.fury.io/gh/tterb%2FHyde.svg)](https://badge.fury.io/gh/tterb%2FHyde)
[![GitHub Release](https://img.shields.io/github/release/tterb/PlayMusic.svg?style=flat)]()


## Downloads
#### GitHub (All Releases)
[![Github All Releases](https://img.shields.io/github/downloads/atom/atom/total.svg?style=flat)]()


## Issues
[![Issues](https://img.shields.io/github/issues-raw/tterb/PlayMusic.svg?maxAge=25000)](https://github.com/tterb/Hyde/issues)

## Pull Requests
[![GitHub pull requests](https://img.shields.io/github/issues-pr/cdnjs/cdnjs.svg?style=flat)]()
[![PR's Welcome](https://img.shields.io/badge/PRs-welcome-brightgreen.svg?style=flat)](http://makeapullrequest.com)

## Contributors
[![GitHub contributors](https://img.shields.io/github/contributors/cdnjs/cdnjs.svg?style=flat)]()

## Hits
[![HitCount](http://hits.dwyl.io/tterb/Hyde.svg)](http://hits.dwyl.io/tterb/Hyde)
[![Implementations](https://img.shields.io/badge/%F0%9F%92%A1-implementations-8C8E93.svg?style=flat)](https://github.com/kentcdodds/all-contributors/blob/master/other/IMPLEMENTATIONS.md)

<br>

## Package Managers
#### NPM
[![NPM Version](https://img.shields.io/npm/v/npm.svg?style=flat)]()
[![NPM License](https://img.shields.io/npm/l/all-contributors.svg?style=flat)](https://github.com/tterb/hyde/blob/master/LICENSE)
[![NPM Downloads](https://img.shields.io/npm/dt/express.svg?style=flat)]()  
[![Dependecy Status](https://david-dm.org/tterb/Hyde.svg)](https://david-dm.org/tterb/Hyde)  
[![devDependencies Status](https://david-dm.org/tterb/Hyde/dev-status.svg)](https://david-dm.org/tterb/Hyde?type=dev)  
[![NPM](https://nodei.co/npm/electron-download.png?downloads=true)](https://www.npmjs.com/package/electron-download)

#### PyPi
[![PyPi Version](https://img.shields.io/pypi/v/yt2mp3.svg)](https://pypi.python.org/pypi/yt2mp3/)
[![PyPi Version Alt](https://badge.fury.io/py/yt2mp3.svg)](https://pypi.python.org/pypi/yt2mp3/)  
[![PyPi Python Versions](https://img.shields.io/pypi/pyversions/yt2mp3.svg)](https://pypi.python.org/pypi/yt2mp3/)
[![PyPi Downloads](http://pepy.tech/badge/yt2mp3)](http://pepy.tech/project/yt2mp3)
[![Python Versions](https://img.shields.io/pypi/pyversions/yt2mp3.svg)](https://pypi.python.org/pypi/yt2mp3/)

#### APM
[![APM Version](https://img.shields.io/apm/v/atomic-design-ui.svg?)](https://atom.io/themes/atomic-design-ui)
[![APM Downloads](https://img.shields.io/apm/dm/atomic-design-ui.svg?maxAge=2592000?)](https://atom.io/themes/atomic-design-ui)  
[![APM](https://apm-badges.herokuapp.com/apm/atomic-monokai-pro-syntax.svg?theme=one-dark)](https://atom.io/themes/atomic-monokai-pro-syntax)

#### Bower
<img src="http://benschwarz.github.io/bower-badges/badge@2x.png" width="130" height="30">
<!-- [![Bower version](https://badge.fury.io/bo/badges.svg)](http://badge.fury.io/bo/badges) -->


## Docs
[![Read the Docs](https://readthedocs.org/projects/yt2mp3/badge/?version=latest)](https://yt2mp3.readthedocs.io/en/latest/?badge=latest)
<!-- [![Read the Docs](https://readthedocs.org/projects/docs/badge/?version=latest)](https://docs.readthedocs.io/en/latest/?badge=latest) -->
[![Code of Conduct](https://img.shields.io/badge/code%20of-conduct-ff69b4.svg?style=flat)](https://github.com/tterb/hyde/blob/master/docs/CODE_OF_CONDUCT.md)


## Commits
[![GitHub last commit](https://img.shields.io/github/last-commit/google/skia.svg?style=flat)]()
[![GitHub commit activity the past week, 4 weeks](https://img.shields.io/github/commit-activity/y/eslint/eslint.svg?style=flat)]() [![GitHub commits since](https://img.shields.io/github/commits-since/tterb/playmusic/v1.2.0.svg)]()


## Testing
[![Travis CI](https://travis-ci.org/tterb/yt2mp3.svg?branch=master)](https://travis-ci.org/tterb/yt2mp3)
[![Travis CI w/ Logo](https://img.shields.io/travis/tterb/yt2mp3/master.svg?logo=travis)](https://travis-ci.org/tterb/yt2mp3)  
[![Code Climate](https://codeclimate.com/github/JonSn0w/Hyde/badges/gpa.svg)](https://codeclimate.com/github/tterb/Hyde)
[![CodeCov](https://codecov.io/gh/tterb/yt2mp3/branch/master/graph/badge.svg)](https://codecov.io/gh/tterb/yt2mp3)
[![Coveralls](https://img.shields.io/coveralls/jekyll/jekyll.svg?style=flat)]()
[![Active](http://img.shields.io/badge/Status-Active-green.svg)](https://tterb.github.io)  
[![Pagespeed Insights](https://developers.google.com/speed/pagespeed/insights/?url=http%3A%2F%tterb.github.io%2F&tab=desktop)](https://tterb.github.io)  
[![wercker status](https://app.wercker.com/status/9e0bc54c43f48d220aec684fffb2b110/m/master "wercker status")](https://app.wercker.com/project/bykey/9e0bc54c43f48d220aec684fffb2b110)

## Rails Engines

### Back


### Front


### Requirements

To run this project you must have the following programs installed:

* [Ruby 2.7.1](https://www.ruby-lang.org/en/news/2020/03/31/ruby-2-7-1-released/)
* [Node.Js](https://nodejs.org/en/download/)
* [Yarn](https://classic.yarnpkg.com/en/docs/install#mac-stable)
* [Postgresql](https://www.postgresql.org/download/)
* [Redis](https://redis.io/download)
* [ElasticSearch](https://www.elastic.co/guide/en/elasticsearch/reference/current/install-elasticsearch.html)
* [Chromedriver](https://github.com/SeleniumHQ/selenium/wiki/ChromeDriver)
* [Git](https://git-scm.com/downloads)

## Installation

1) Clone this repository

2) Clone the repositories of the [Rails Engines](#engines) section  on folder `MILLIONANDUP/engines`.

> ‚ö†Ô∏è Remember that each Rails Engine has its own readme for its own configuration, so do not proceed without having those engines working correctly.

3) And then execute the following command from root project for install ruby dependencies

```bash
$ bundle install
```

4) Then install javascript dependencies via Yarn

```bash
$ yarn install
```

## Usage

### Set up environment

1) Set up database

1.1)  Run following Rails task for get migrations from Rails engines
```bash
$ rails migrations:install
```
In this step each migration can be in the following states:

* `Created`: new migration created.
* `Identical`: totally identical migration.
* `Conflict`: There two versions for the same migration. You must decide which are left.

> ‚ö†Ô∏è It is important to validate that you have the migrations updated and in the order that they should be.

1.2) Create and Run migrations in database with following Rails tasks:

* `db:drop`(optional): delete project database if exist.
* `db:create`: create project database.
* `db:migrate`: run migrations of the folder `sy_app/db/migrate`.
* `db:test:prepare`: run migrations of the folder `sy_app/db/migrate`on the test environment.

The above Rails tasks can be executed in a single instruction:

```bash
$ rails db:drop db:create db:migrate db:test:prepare
```
```bash
$ rails db:seed
```

2) Run specs (unit tests)

```bash
$ rspec
```
or
```bash
$ bundle exec rspec
```

> ‚ÑπÔ∏è  Tests must pass all test cases. If not, contact the TI team.
3) Tailwindcss

```bash
$ rails tailwindcss:watch
```
4) Start server

```bash
$ rails s
```

4) Enjoy Symplifica App MX on [http://localhost:3000/](http://localhost:3000/) üéâ üòÑ üç∞

### Helpers

1) Show version of engines inside project (make sure you have the engines in the correct branch to get current version of engine):

```bash
$ rails engine:versions
```

### Issues

#### Elasticsearch
##### Maximum shards open
If por any reason you have an error with following message: "Validation Failed: 1: this action would add [n] total shards, but this cluster currently has [n]/[n] maximum shards open;",
you could solve delete UNASSIGNED shards with the following command:

on Ubuntu
```bash
$ curl -XGET http://localhost:9200/_cat/shards | grep UNASSIGNED | awk {'print $1'} | xargs -i curl -XDELETE "http://<elastichost>:9200/{}"
```

on Mac
```bash
$ curl -XGET http://localhost:9200/_cat/shards | grep UNASSIGNED | awk {'print $1'} | xargs -I{} curl -XDELETE "http://localhost:9200/{}"
```

Read more:
- [ELK: Deleting unassigned shards to restore cluster health](https://fabianlee.org/2018/10/02/elk-deleting-unassigned-shards-to-restore-cluster-health/)
- [How to Delete Elasticsearch Unassigned Shards in 4 Easy Steps](https://www.cyberithub.com/how-to-delete-elasticsearch-unassigned-shards/)

### Docs

You can find Docs to see the functionalities the engine in few steps:

1) Clone repository

2) On root repository, execute this Rails task for generate docs:

```bash
$ rails rdoc
```

If for some reason you need to update the docs, you can run:

```bash
$ rails rerdoc
```

3) Then, serve docs:

```bash
$ rackup docs.ru
```

4) Go to [http://localhost:9292/](http://localhost:9292/) for study docs üìò üòÑ


## Contributing
Contact to Symplifica Team Ti for job vacancies.